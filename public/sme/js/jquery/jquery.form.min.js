!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";function e(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).closest("form").ajaxSubmit(c))}function f(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=c.form;if(f.clk=c,"image"===c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function g(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var b=/\r?\n/g,c={};c.fileapi=void 0!==a('<input type="file">').get(0).files,c.formdata=void 0!==window.FormData;var d=!!a.fn.prop;a.fn.attr2=function(){if(!d)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b,e,f,h){function F(c){var g,h,d=a.param(c,b.traditional).split("&"),e=d.length,f=[];for(g=0;g<e;g++)d[g]=d[g].replace(/\+/g," "),h=d[g].split("="),f.push([decodeURIComponent(h[0]),decodeURIComponent(h[1])]);return f}function G(c){for(var d=new FormData,e=0;e<c.length;e++)d.append(c[e].name,c[e].value);if(b.extraData){var f=F(b.extraData);for(e=0;e<f.length;e++)f[e]&&d.append(f[e][0],f[e][1])}b.data=null;var g=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(g.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),g.data=null;var h=g.beforeSend;return g.beforeSend=function(a,c){b.formData?c.data=b.formData:c.data=d,h&&h.call(this,a,c)},a.ajax(g)}function H(c){function A(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(a){g("cannot get iframe.contentWindow document: "+a)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){g("cannot get iframe.contentDocument: "+c),b=a.document}return b}function D(){function h(){try{var a=A(p).readyState;g("state = "+a),a&&"uninitialized"===a.toLowerCase()&&setTimeout(h,50)}catch(a){g("Server abort: ",a," (",a.name,")"),I(z),u&&clearTimeout(u),u=void 0}}var b=l.attr2("target"),c=l.attr2("action"),d="multipart/form-data",f=l.attr("enctype")||l.attr("encoding")||d;e.setAttribute("target",m),i&&!/post/i.test(i)||e.setAttribute("method","POST"),c!==j.url&&e.setAttribute("action",j.url),j.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),j.timeout&&(u=setTimeout(function(){t=!0,I(y)},j.timeout));var k=[];try{if(j.extraData)for(var o in j.extraData)j.extraData.hasOwnProperty(o)&&(a.isPlainObject(j.extraData[o])&&j.extraData[o].hasOwnProperty("name")&&j.extraData[o].hasOwnProperty("value")?k.push(a('<input type="hidden" name="'+j.extraData[o].name+'">',w).val(j.extraData[o].value).appendTo(e)[0]):k.push(a('<input type="hidden" name="'+o+'">',w).val(j.extraData[o]).appendTo(e)[0]));j.iframeTarget||n.appendTo(x),p.attachEvent?p.attachEvent("onload",I):p.addEventListener("load",I,!1),setTimeout(h,15);try{e.submit()}catch(a){var q=document.createElement("form").submit;q.apply(e)}}finally{e.setAttribute("action",c),e.setAttribute("enctype",f),b?e.setAttribute("target",b):l.removeAttr("target"),a(k).remove()}}function I(b){if(!q.aborted&&!H){if(F=A(p),F||(g("cannot access response document"),b=z),b===y&&q)return q.abort("timeout"),void v.reject(q,"timeout");if(b===z&&q)return q.abort("server abort"),void v.reject(q,"error","server abort");if(F&&F.location.href!==j.iframeSrc||t){p.detachEvent?p.detachEvent("onload",I):p.removeEventListener("load",I,!1);var d,c="success";try{if(t)throw"timeout";var e="xml"===j.dataType||F.XMLDocument||a.isXMLDoc(F);if(g("isXml="+e),!e&&window.opera&&(null===F.body||!F.body.innerHTML)&&--G)return g("requeing onLoad callback, DOM not available"),void setTimeout(I,250);var f=F.body?F.body:F.documentElement;q.responseText=f?f.innerHTML:null,q.responseXML=F.XMLDocument?F.XMLDocument:F,e&&(j.dataType="xml"),q.getResponseHeader=function(a){return{"content-type":j.dataType}[a.toLowerCase()]},f&&(q.status=Number(f.getAttribute("status"))||q.status,q.statusText=f.getAttribute("statusText")||q.statusText);var h=(j.dataType||"").toLowerCase(),i=/(json|script|text)/.test(h);if(i||j.textarea){var l=F.getElementsByTagName("textarea")[0];if(l)q.responseText=l.value,q.status=Number(l.getAttribute("status"))||q.status,q.statusText=l.getAttribute("statusText")||q.statusText;else if(i){var m=F.getElementsByTagName("pre")[0],o=F.getElementsByTagName("body")[0];m?q.responseText=m.textContent?m.textContent:m.innerText:o&&(q.responseText=o.textContent?o.textContent:o.innerText)}}else"xml"===h&&!q.responseXML&&q.responseText&&(q.responseXML=J(q.responseText));try{E=L(q,h,j)}catch(a){c="parsererror",q.error=d=a||c}}catch(a){g("error caught: ",a),c="error",q.error=d=a||c}q.aborted&&(g("upload aborted"),c=null),q.status&&(c=q.status>=200&&q.status<300||304===q.status?"success":"error"),"success"===c?(j.success&&j.success.call(j.context,E,"success",q),v.resolve(q.responseText,"success",q),k&&a.event.trigger("ajaxSuccess",[q,j])):c&&(void 0===d&&(d=q.statusText),j.error&&j.error.call(j.context,q,c,d),v.reject(q,"error",d),k&&a.event.trigger("ajaxError",[q,j,d])),k&&a.event.trigger("ajaxComplete",[q,j]),k&&!--a.active&&a.event.trigger("ajaxStop"),j.complete&&j.complete.call(j.context,q,c),H=!0,j.timeout&&clearTimeout(u),setTimeout(function(){j.iframeTarget?n.attr("src",j.iframeSrc):n.remove(),q.responseXML=null},100)}}}var f,h,j,k,m,n,p,q,r,s,t,u,e=l[0],v=a.Deferred();if(v.abort=function(a){q.abort(a)},c)for(h=0;h<o.length;h++)f=a(o[h]),d?f.prop("disabled",!1):f.removeAttr("disabled");j=a.extend(!0,{},a.ajaxSettings,b),j.context=j.context||j,m="jqFormIO"+(new Date).getTime();var w=e.ownerDocument,x=l.closest("body");if(j.iframeTarget?(n=a(j.iframeTarget,w),s=n.attr2("name"),s?m=s:n.attr2("name",m)):(n=a('<iframe name="'+m+'" src="'+j.iframeSrc+'" />',w),n.css({position:"absolute",top:"-1000px",left:"-1000px"})),p=n[0],q={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";g("aborting upload... "+c),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(a){}n.attr("src",j.iframeSrc),q.error=c,j.error&&j.error.call(j.context,q,c,b),k&&a.event.trigger("ajaxError",[q,j,c]),j.complete&&j.complete.call(j.context,q,c)}},k=j.global,k&&0==a.active++&&a.event.trigger("ajaxStart"),k&&a.event.trigger("ajaxSend",[q,j]),j.beforeSend&&!1===j.beforeSend.call(j.context,q,j))return j.global&&a.active--,v.reject(),v;if(q.aborted)return v.reject(),v;(r=e.clk)&&(s=r.name)&&!r.disabled&&(j.extraData=j.extraData||{},j.extraData[s]=r.value,"image"===r.type&&(j.extraData[s+".x"]=e.clk_x,j.extraData[s+".y"]=e.clk_y));var y=1,z=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(j.extraData=j.extraData||{},j.extraData[C]=B),j.forceSync?D():setTimeout(D,10);var E,F,H,G=50,J=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!==b.documentElement.nodeName?b:null},K=a.parseJSON||function(a){return window.eval("("+a+")")},L=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f=("xml"===c||!c)&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&(("json"===c||!c)&&e.indexOf("json")>=0?g=K(g):("script"===c||!c)&&e.indexOf("javascript")>=0&&a.globalEval(g)),g};return v}if(!this.length)return g("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof b?b={success:b}:"string"==typeof b||!1===b&&arguments.length>0?(b={url:b,data:e,dataType:f},"function"==typeof h&&(b.success=h)):void 0===b&&(b={}),i=b.method||b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto)return g("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&!1===b.beforeSerialize(this,b))return g("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var p,o=[],q=this.formToArray(b.semantic,o,b.filtering);if(b.data){var r=a.isFunction(b.data)?b.data(q):b.data;b.extraData=r,p=a.param(r,n)}if(b.beforeSubmit&&!1===b.beforeSubmit(q,this,b))return g("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto)return g("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var s=a.param(q,n);p&&(s=s?s+"&"+p:p),"GET"===b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+s,b.data=null):b.data=s;var t=[];if(b.resetForm&&t.push(function(){l.resetForm()}),b.clearForm&&t.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var u=b.success||function(){};t.push(function(c,d,e){var f=arguments,g=b.replaceTarget?"replaceWith":"html";a(b.target)[g](c).each(function(){u.apply(this,f)})})}else b.success&&(a.isArray(b.success)?a.merge(t,b.success):t.push(b.success));if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=t.length;f<g;f++)t[f].apply(e,[a,c,d||l,l])},b.error){var v=b.error;b.error=function(a,c,d){var e=b.context||this;v.apply(e,[a,c,d,l])}}if(b.complete){var w=b.complete;b.complete=function(a,c){var d=b.context||this;w.apply(d,[a,c,l])}}var x=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),y=x.length>0,z="multipart/form-data",A=l.attr("enctype")===z||l.attr("encoding")===z,B=c.fileapi&&c.formdata;g("fileAPI :"+B);var D,C=(y||A)&&!B;!1!==b.iframe&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){D=H(q)}):D=H(q):D=(y||A)&&B?G(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",D);for(var E=0;E<o.length;E++)o[E]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(b,c,d,h){if(("string"==typeof b||!1===b&&arguments.length>0)&&(b={url:b,data:c,dataType:d},"function"==typeof h&&(b.success=h)),b=b||{},b.delegation=b.delegation&&a.isFunction(a.fn.on),!b.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!a.isReady&&i.s?(g("DOM not ready, queuing ajaxForm"),a(function(){a(i.s,i.c).ajaxForm(b)}),this):(g("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return b.delegation?(a(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,b,e).on("click.form-plugin",this.selector,b,f),this):this.ajaxFormUnbind().on("submit.form-plugin",b,e).on("click.form-plugin",b,f)},a.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,d,e){var f=[];if(0===this.length)return f;var j,g=this[0],h=this.attr("id"),i=b||void 0===g.elements?g.getElementsByTagName("*"):g.elements;if(i&&(i=a.makeArray(i)),h&&(b||/(Edge|Trident)\//.test(navigator.userAgent))&&(j=a(':input[form="'+h+'"]').get(),j.length&&(i=(i||[]).concat(j))),!i||!i.length)return f;a.isFunction(e)&&(i=a.map(i,e));var k,l,m,n,o,p,q;for(k=0,p=i.length;k<p;k++)if(o=i[k],(m=o.name)&&!o.disabled)if(b&&g.clk&&"image"===o.type)g.clk===o&&(f.push({name:m,value:a(o).val(),type:o.type}),f.push({name:m+".x",value:g.clk_x},{name:m+".y",value:g.clk_y}));else if((n=a.fieldValue(o,!0))&&n.constructor===Array)for(d&&d.push(o),l=0,q=n.length;l<q;l++)f.push({name:m,value:n[l]});else if(c.fileapi&&"file"===o.type){d&&d.push(o);var r=o.files;if(r.length)for(l=0;l<r.length;l++)f.push({name:m,value:r[l],type:o.type});else f.push({name:m,value:"",type:o.type})}else null!==n&&void 0!==n&&(d&&d.push(o),f.push({name:m,value:n,type:o.type,required:o.required}));if(!b&&g.clk){var s=a(g.clk),t=s[0];m=t.name,m&&!t.disabled&&"image"===t.type&&(f.push({name:m,value:s.val()}),f.push({name:m+".x",value:g.clk_x},{name:m+".y",value:g.clk_y}))}return f},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor===Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else null!==e&&void 0!==e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);null===g||void 0===g||g.constructor===Array&&!g.length||(g.constructor===Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(c,d){var e=c.name,f=c.type,g=c.tagName.toLowerCase();if(void 0===d&&(d=!0),d&&(!e||c.disabled||"reset"===f||"button"===f||("checkbox"===f||"radio"===f)&&!c.checked||("submit"===f||"image"===f)&&c.form&&c.form.clk!==c||"select"===g&&-1===c.selectedIndex))return null;if("select"===g){var h=c.selectedIndex;if(h<0)return null;for(var i=[],j=c.options,k="select-one"===f,l=k?h+1:j.length,m=k?h:0;m<l;m++){var n=j[m];if(n.selected&&!n.disabled){var o=n.value;if(o||(o=n.attributes&&n.attributes.value&&!n.attributes.value.specified?n.text:n.value),k)return o;i.push(o)}}return i}return a(c).val().replace(b,"\r\n")},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"===e?this.value="":"checkbox"===d||"radio"===d?this.checked=!1:"select"===e?this.selectedIndex=-1:"file"===d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(!0===b&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){var b=a(this),c=this.tagName.toLowerCase();switch(c){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var d=b.parents("select");return d.length&&d[0].multiple?"option"===c?this.selected=this.defaultSelected:b.find("option").resetForm():d.resetForm(),!0;case"select":return b.find("option").each(function(a){if(this.selected=this.defaultSelected,this.defaultSelected&&!b[0].multiple)return b[0].selectedIndex=a,!1}),!0;case"label":var e=a(b.attr("for")),f=b.find("input,select,textarea");return e[0]&&f.unshift(e[0]),f.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return b.find("form,input,label,select,textarea").resetForm(),!0}})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"===c||"radio"===c)this.checked=b;else if("option"===this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"===d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1});